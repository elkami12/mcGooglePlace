!function(){"use strict";angular.module("mcGooglePlace",[])}(),function(){"use strict";function e(e){e.decorator("inputDirective",n)}function n(e){var n=e[0],t=n.link.pre;return n.link.pre=function(e,n,o,r){return!r[0]||angular.isUndefined(o.mcGoogleAutocomplete)?t.apply(this,arguments):void 0},e}function t(e,n,t){function o(e,n,t,o,r,a){function i(e){if(s&&(a.defer.cancel(s),s=null),!g){var o=n.val(),r=e&&e.type;o=o.trim(),(u(t.$viewValue)!==o||""===o&&t.$$hasNativeValidators)&&(""!==o?t.$setViewValue({name:o},r):t.$setViewValue(void 0,r))}}function c(e,n,t){s||(s=a.defer(function(){s=null,n&&n.value===t||i(e)}))}function u(e){return angular.isObject(e)?e.formatted_address||e.name:""}var l=e.gaOptions||{};o.buildAutocomplete(n[0],l,function(n){""!==u(n)?t.$setViewValue(angular.copy(n)):t.$setViewValue(void 0),e.$apply(function(){t.$commitViewValue()})});var s;if(!r.android){var g=!1;n.on("compositionstart",function(e){g=!0}),n.on("compositionend",function(){g=!1,i()})}r.hasEvent("input")?n.on("input",i):(n.on("keydown",function(e){var n=e.keyCode;91===n||n>15&&19>n||n>=37&&40>=n||c(e,this,this.value)}),r.hasEvent("paste")&&n.on("paste cut",c)),n.on("change",i),t.$render=function(){var e=u(t.$viewValue);n.val()!==e&&n.val(e)},t.$isEmpty=function(e){return!o.isValidGooglePlace(e)}}var r={require:["?ngModel"],link:{pre:function(r,a,i,c){c[0]&&o(r,a,c[0],e,n,t)}},restrict:"A",scope:{gaOptions:"=?"}};return r}var o=angular.module("mcGooglePlace");o.config(e),e.$inject=["$provide"],n.$inject=["$delegate"],o.directive("mcGoogleAutocomplete",t),t.$inject=["mcGooglePlaceUtils","$sniffer","$browser"]}(),function(){"use strict";function e(){function e(e,t){return e.load(n)}var n={transport:"https",isGoogleMapsForWork:!1,china:!1,v:"3",libraries:"places",language:"fr"};return this.configure=function(e){angular.extend(n,e)},this.$get=e,e.$inject=["mcGooglePlaceScriptLoader","logger"],this}angular.module("mcGooglePlace").provider("mcGooglePlaceApi",e)}(),function(){"use strict";function e(e,n){function t(e){return e.china?"http://maps.google.cn/maps/api/js?":"auto"===e.transport?"//maps.googleapis.com/maps/api/js?":e.transport+"://maps.googleapis.com/maps/api/js?"}function o(e){var o="v="+e.v+"&libraries="+e.libraries+"&language="+e.language;e.callback&&(o+="&callback="+e.callback),!e.isGoogleMapsForWork&&e.key&&(o+="&key="+e.key);var r;i&&(r=document.getElementById(i),r.parentNode.removeChild(r));var a=document.createElement("script");return a.id=i="ui_gmap_map_load_"+n.generate(),a.type="text/javascript",a.src=t(e)+o,document.body.appendChild(a)}function r(){return angular.isDefined(window.google)&&angular.isDefined(window.google.maps)}function a(n){var t=e.defer();if(r())return t.resolve(window.google.maps),t.promise;var a=n.callback="onGoogleMapsReady"+Math.round(1e3*Math.random());return window[a]=function(){window[a]=null,t.resolve(window.google.maps)},window.navigator.connection&&window.Connection&&window.navigator.connection.type===window.Connection.NONE?document.addEventListener("online",function(){return r()?void 0:o(n)}):o(n),t.promise}var i=void 0,c={load:a};return c}angular.module("mcGooglePlace").factory("mcGooglePlaceScriptLoader",e),e.$inject=["$q","uuidGen"]}(),function(){"use strict";function e(e){function n(n,t,o){return e.then(function(e){var r=new e.places.Autocomplete(n,t);return e.event.addListener(r,"place_changed",function(){o(r.getPlace())}),r})}function t(e){return angular.isObject(e)&&!!e.place_id}function o(e,n){var o;if(t(e))for(var r=0;r<e.address_components.length;r++){var a=e.address_components[r].types[0];if(n[a])return o=e.address_components[r][n[a]]}}function r(e){var n={street_number:"short_name"},t=o(e,n);return t}function a(e){var n={route:"long_name"},t=o(e,n);return t}function i(e){var n={locality:"long_name"},t=o(e,n);return t}function c(e){var n={administrative_area_level_1:"short_name"},t=o(e,n);return t}function u(e){var n={administrative_area_level_2:"short_name"},t=o(e,n);return t}function l(e){var n={country:"short_name"},t=o(e,n);return t}function s(e){var n={country:"long_name"},t=o(e,n);return t}function g(e){var n={postal_code:"long_name"},t=o(e,n);return t}function d(e){return angular.isObject(e)&&angular.isObject(e.geometry)}function m(e){return d(e)?e.geometry.location.lat():null}function f(e){return d(e)?e.geometry.location.lng():null}var p={isValidGooglePlace:t,getStreetNumber:r,getStreet:a,getCity:i,getState:c,getCountryShort:l,getCountry:s,getLatitude:m,getLongitude:f,getPostCode:g,getDistrict:u,buildAutocomplete:n};return p}angular.module("mcGooglePlace").factory("mcGooglePlaceUtils",e),e.$inject=["mcGooglePlaceApi"]}(),function(){"use strict";function e(){var e;return e=function(e){function n(){}function t(e){return 0>e?NaN:30>=e?0|Math.random()*(1<<e):53>=e?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<e-30)):NaN}function o(e,n){for(var t=e.toString(16),o=n-t.length,r="0";o>0;o>>>=1,r+=r)1&o&&(t=r+t);return t}return n.generate=function(){return o(t(32),8)+"-"+o(t(16),4)+"-"+o(16384|t(12),4)+"-"+o(32768|t(14),4)+"-"+o(t(48),12)},n.overwrittenUUID=e,n}(e)}angular.module("mcGooglePlace").service("uuidGen",e)}();